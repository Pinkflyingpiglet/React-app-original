{"ast":null,"code":"// import \"./rightbar.css\";\n// import {Users} from \"../../dummyData\";\n// import Online from \"../online/Online\";\n// import { useContext, useEffect, useState } from \"react\";\n// import axios from \"axios\";\n// import { Link } from \"react-router-dom\";\n// import { AuthContext } from \"../../context/AuthContext\";\n// import AddIcon from '@mui/icons-material/Add';\n// import RemoveIcon from '@mui/icons-material/Remove';\n\n// export default function Rightbar({user}) {\n//   const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n//   const [friends, setFriends] = useState([]);\n//   const {user:currentUser, dispatch} = useContext(AuthContext);\n//   const [followed, setFollowed] = useState(currentUser.followings.includes(user?.id));\n\n//   useEffect(()=>{\n//     setFollowed(currentUser.followings.includes(user?.id));\n//   },[currentUser, user.id])\n\n//   useEffect(() => {\n//     //useEffect can't use async function so a seperate method is created called getFriends to fetch 'followings' data from user profile, which can then be added to 'rightbarFollowings'\n//     const getFriends = async () => {\n//       try {\n//         const friendList = await axios.get(\"/users/friends/\" + user._id);\n//         setFriends(friendList.data);\n//       } catch(err) {\n//         console.log(err);\n//       }\n//     };\n//     getFriends();\n//   },[user._id])\n\n//   const handleClick = async () => {\n//     try {\n//       if (followed) {\n//         await axios.put(\"/users/\" + user._id+\"/unfollow\", {userId:currentUser._id});\n//         dispatch({type:\"UNFOLLOW\", payload:user._id});\n//       } else {\n//         await axios.put(\"/users/\" + user._id+\"/follow\", {userId:currentUser._id}) \n//         dispatch({type:\"FOLLOW\", payload:user._id});\n//       }\n//     } catch(err) {\n//       console.log(err);\n//     };\n//     setFollowed(!followed); // this changes the state of the 'followed' button\n//   }\n\n//   const HomeRightbar = () => {\n//     return (\n//       <>\n//         <div className=\"birthdayContainer\">\n//           <img src=\"assets/post/gift.png\" alt=\"\" className=\"birthdayImg\" />\n//           <span className=\"birthdayText\">\n//             <b>Pola Foster</b> and <b>3 other friends</b> have a birthday today</span>\n//         </div>\n//         <img src=\"assets/post/ad.png\" alt=\"\" className=\"rightbarAd\" />\n//         <h4 className=\"rightbarTitle\">Online Friends</h4>\n//         <ul className=\"rightbarFriendList\">\n//           {Users.map((u)=>(\n//             <Online key={u.id} user={u} />\n//           ))}\n//         </ul>\n//       </>\n//     );\n//   };\n\n//   const ProfileRightbar = () => {\n//     return (\n//       <>\n//       {user.username !== currentUser.username && (\n//         <button className=\"rightbarFollowButton\" onClick={handleClick}>\n//           {followed ? \"Unfollow\" : \"Follow\"}\n//           {followed ? <RemoveIcon /> : <AddIcon />} \n//         </button>\n//       )}\n//         <h4 className=\"rightbarTitle\">User Information</h4>\n//         <div className=\"rightbarInfo\">\n//           <div className=\"rightbarInfoItem\">\n//             <span className=\"rightbarInfoKey\">City:</span>\n//             <span className=\"rightbarInfoValue\">{user.city}</span>\n//           </div>\n//           <div className=\"rightbarInfoItem\">\n//             <span className=\"rightbarInfoKey\">From:</span>\n//             <span className=\"rightbarInfoValue\">{user.from}</span>\n//           </div>\n//           <div className=\"rightbarInfoItem\">\n//             <span className=\"rightbarInfoKey\">Relationship:</span>\n//             <span className=\"rightbarInfoValue\">{user.relationship === 1 ? \"Single\": user.relationship === 2 ? \"Married\" : \"-\"}</span>\n//           </div>\n//         </div>\n//         <h4 className=\"rightbarTitle\">User friends</h4>\n//         <div className=\"rightbarFollowings\">\n//           {friends.map((friend) => (\n//             <Link to={\"/profile/\"+friend.username} style={{textDecoration:\"none\"}}>\n//             <div className=\"rightbarFollowing\">\n//               <img src= {friend.profilePicture ? PF+friend.profilePicture : PF + \"person/noAvatar.png\"} alt=\"\" className=\"rightbarFollowingImg\" />\n//               <span className=\"rightbarFollowingName\">{friend.username}</span>\n//             </div>\n//             </Link>\n//           ))}\n//         </div>\n//       </>\n//     )\n//   }\n\n//   return (\n//     <div className=\"rightbar\">\n//       <div className=\"rightbarWrapper\">\n//         {user ? <ProfileRightbar/> : <HomeRightbar/>}\n//       </div>\n//     </div>\n//   )\n// }","map":{"version":3,"names":[],"sources":["/Users/gordon/Desktop/react/client/src/components/rightbar/Rightbar.jsx"],"sourcesContent":["// import \"./rightbar.css\";\n// import {Users} from \"../../dummyData\";\n// import Online from \"../online/Online\";\n// import { useContext, useEffect, useState } from \"react\";\n// import axios from \"axios\";\n// import { Link } from \"react-router-dom\";\n// import { AuthContext } from \"../../context/AuthContext\";\n// import AddIcon from '@mui/icons-material/Add';\n// import RemoveIcon from '@mui/icons-material/Remove';\n\n// export default function Rightbar({user}) {\n//   const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n//   const [friends, setFriends] = useState([]);\n//   const {user:currentUser, dispatch} = useContext(AuthContext);\n//   const [followed, setFollowed] = useState(currentUser.followings.includes(user?.id));\n\n//   useEffect(()=>{\n//     setFollowed(currentUser.followings.includes(user?.id));\n//   },[currentUser, user.id])\n\n//   useEffect(() => {\n//     //useEffect can't use async function so a seperate method is created called getFriends to fetch 'followings' data from user profile, which can then be added to 'rightbarFollowings'\n//     const getFriends = async () => {\n//       try {\n//         const friendList = await axios.get(\"/users/friends/\" + user._id);\n//         setFriends(friendList.data);\n//       } catch(err) {\n//         console.log(err);\n//       }\n//     };\n//     getFriends();\n//   },[user._id])\n\n//   const handleClick = async () => {\n//     try {\n//       if (followed) {\n//         await axios.put(\"/users/\" + user._id+\"/unfollow\", {userId:currentUser._id});\n//         dispatch({type:\"UNFOLLOW\", payload:user._id});\n//       } else {\n//         await axios.put(\"/users/\" + user._id+\"/follow\", {userId:currentUser._id}) \n//         dispatch({type:\"FOLLOW\", payload:user._id});\n//       }\n//     } catch(err) {\n//       console.log(err);\n//     };\n//     setFollowed(!followed); // this changes the state of the 'followed' button\n//   }\n\n//   const HomeRightbar = () => {\n//     return (\n//       <>\n//         <div className=\"birthdayContainer\">\n//           <img src=\"assets/post/gift.png\" alt=\"\" className=\"birthdayImg\" />\n//           <span className=\"birthdayText\">\n//             <b>Pola Foster</b> and <b>3 other friends</b> have a birthday today</span>\n//         </div>\n//         <img src=\"assets/post/ad.png\" alt=\"\" className=\"rightbarAd\" />\n//         <h4 className=\"rightbarTitle\">Online Friends</h4>\n//         <ul className=\"rightbarFriendList\">\n//           {Users.map((u)=>(\n//             <Online key={u.id} user={u} />\n//           ))}\n//         </ul>\n//       </>\n//     );\n//   };\n\n//   const ProfileRightbar = () => {\n//     return (\n//       <>\n//       {user.username !== currentUser.username && (\n//         <button className=\"rightbarFollowButton\" onClick={handleClick}>\n//           {followed ? \"Unfollow\" : \"Follow\"}\n//           {followed ? <RemoveIcon /> : <AddIcon />} \n//         </button>\n//       )}\n//         <h4 className=\"rightbarTitle\">User Information</h4>\n//         <div className=\"rightbarInfo\">\n//           <div className=\"rightbarInfoItem\">\n//             <span className=\"rightbarInfoKey\">City:</span>\n//             <span className=\"rightbarInfoValue\">{user.city}</span>\n//           </div>\n//           <div className=\"rightbarInfoItem\">\n//             <span className=\"rightbarInfoKey\">From:</span>\n//             <span className=\"rightbarInfoValue\">{user.from}</span>\n//           </div>\n//           <div className=\"rightbarInfoItem\">\n//             <span className=\"rightbarInfoKey\">Relationship:</span>\n//             <span className=\"rightbarInfoValue\">{user.relationship === 1 ? \"Single\": user.relationship === 2 ? \"Married\" : \"-\"}</span>\n//           </div>\n//         </div>\n//         <h4 className=\"rightbarTitle\">User friends</h4>\n//         <div className=\"rightbarFollowings\">\n//           {friends.map((friend) => (\n//             <Link to={\"/profile/\"+friend.username} style={{textDecoration:\"none\"}}>\n//             <div className=\"rightbarFollowing\">\n//               <img src= {friend.profilePicture ? PF+friend.profilePicture : PF + \"person/noAvatar.png\"} alt=\"\" className=\"rightbarFollowingImg\" />\n//               <span className=\"rightbarFollowingName\">{friend.username}</span>\n//             </div>\n//             </Link>\n//           ))}\n//         </div>\n//       </>\n//     )\n//   }\n\n//   return (\n//     <div className=\"rightbar\">\n//       <div className=\"rightbarWrapper\">\n//         {user ? <ProfileRightbar/> : <HomeRightbar/>}\n//       </div>\n//     </div>\n//   )\n// }\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}